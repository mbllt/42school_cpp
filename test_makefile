#-------------- NAME
NAME=			phonebook
#--------------


#-------------- SRCS
#SRCS_DIR=		srcs
#SRCS_FILES=		phonebook.cpp\
#				contact.class.cpp
SRCS=			phonebook.cpp\
				contact.class.cpp

#SRCS=			$(addprefix $(SRCS_DIR)/,$(SRCS_FILES))
#--------------


#-------------- OBJS
#OBJS_DIR=		.objs
#OBJS=			$(addprefix $(OBJS_DIR)/,$(SRCS_FILES:.cpp=.o))
OBJS=			$(SRCS:.cpp=.o)
#PATH_OBJS=
#--------------

#-------------- INCS
INC_DIR=		includes
INC_FILES=		phonebook.hpp\
				contact.class.hpp

INCLUDES=		$(addprefix $(INC_DIR)/,$(INC_FILES))
#INCLUDES=		includes/phonebook.hpp includes/contact.class.hpp
#--------------


#-------------- COMPILER
CC=				clang++
FLAGS=			-Wall -Werror -Wextra
#--------------


#-------------- RM
RM=				/bin/rm -rf
#--------------


all:				$(NAME)

$(NAME):			$(OBJS)
							@echo "Linking $(NAME)"
							@$(CC) $(OBJS) -o $(NAME)

#$(OBJS_DIR)/%.o:	$(SRCS_DIR)/%.cpp $(INCLUDES) | $(OBJS_DIR)
%.o:				%.cpp
							@echo "Compiling $<"
							@$(CC) $(FLAGS) $(INCLUDES) -o $@ -c $<

#$(OBJS_DIR):
#							@mkdir -p $(OBJS_DIR) $(addprefix $(OBJS_DIR)/,$(PATH_OBJS))

clean:
							@echo "Deleting object files"
							@$(RM) $(OBJS)

fclean:				clean
							@echo "Deleting executable and objs_dir"
							@$(RM) $(NAME)
							@$(RM) $(OBJS_DIR)

re:					fclean all

.PHONY:				all clean fclean re
